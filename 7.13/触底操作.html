<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        p {
            height: 200px;
        }
    </style>
</head>

<body>
    <div class="wrap">
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
        <p>我</p>
    </div>
    <script>
        // 触底
        // 页面高度 =< 视图窗口高度+滚动条滚动高度  到底了
        var wrap = document.querySelector('.wrap')
        window.onscroll = function () {
            var h = innerHeight;//视图窗口的高度
            var scrollTop = document.documentElement.scrollTop || document.body.scrollTop;//
            var pageH = document.body.offsetHeight;
            // console.log(pageH);
            console.log(innerHeight);
            console.log(scrollTop)
            var data = ['前段', 'JAVA', '大数据', '产品经理', '数据分析'];

            // 触底后的操作
            // if (h + scrollTop === pageH) {
            //     setTimeout(function () {
            //         console.log('到底了')
            //         //
            //         data.forEach((ele, index) => {
            //             var p = document.createElement('p');
            //             p.innerHTML = data[index];
            //             wrap.append(p);
            //         })

            //     }, 1000)
            // }

             // bug  慢，在500
             setTimeout(function () {
                if (h + scrollTop == pageH) {
                    console.log('到底了');
                    for (var i = 0; i < data.length; i++) {
                        var p = document.createElement('p');
                        p.innerHTML = data[i];
                        wrap.appendChild(p);
                    }
                }
                
            }, 500);
        }
    </script>
</body>

</html>