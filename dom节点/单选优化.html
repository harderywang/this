<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <h1>我是好人</h1>
    <h1>我是好人</h1>
    <h1>我是好人</h1>
    <h1>我是好人</h1>
    <h1>我是好人</h1>
    <script>
        // 通过this 选中h1标签
        // var h1s = document.getElementsByTagName('h1');
        // for(var i = 0;i<h1s.length;i++){
        //         var flag = true;
        //         h1s[i].onclick = function () {
        //             //异步h1s[i] 不存在 这个程序比for还要慢 所以 全局的 i =5 
        //             // console.log(i,this)
        //             //需求 找到被点击的元素 -----this
        //             console.log(h1s[i])
        //             flag = !flag;
        //             flag ? this.style.color = 'black' : this.style.color = 'blue'
        //             //基于用户的响应处理
        //             // ele.style.color='red'//点击字体变红
        //         }
        // }
        // 闭包加this
        var h1s = document.getElementsByTagName('h1');
        for(var i = 0;i<h1s.length;i++){  
                (function(){
                    var flag = true;
                    h1s[i].onclick = function(){
                        flag = !flag;
                    flag ? this.style.color = 'black' : this.style.color = 'blue'
                    }
                })();        
        }

        //let 
        // var h1s = document.getElementsByTagName('h1');
        // for(let i = 0;i<h1s.length;i++){  
        //         (function(){
        //             var flag = true;
        //             h1s[i].onclick = function(){
        //                 flag = !flag;
        //             flag ? h1s[i].style.color = 'black' : h1s[i].style.color = 'blue'
        //             }
        //         })();          
        // }

        //闭包思维 var 变量 x 
        // var h1s = document.getElementsByTagName('h1');
        // for(var i = 0;i<h1s.length;i++){  
        //         (function(){
        //             var flag = true;
        //             //这里var i = i  这个i现在局部作用域中找 声明了var 
        //             var x =i;// 解决 变量污染 全局i = 5 的问题
        //             h1s[x].onclick = function(){
        //                 flag = !flag;
        //             flag ? h1s[x].style.color = 'black' : h1s[x].style.color = 'blue'
        //             }
        //         })();         
        // }

        //对象思维 添加私有属性 没有闭包
        var h1s = document.getElementsByTagName('h1');
        for (var i = 0; i < h1s.length; i++) {
            // 给5个对象添加私有属性flag 
            h1s[i].flag = true;
            //给5个h1dom 分别添加私有属性 i 赋不同的值
            h1s[i].i = i;
            h1s[i].onclick = function () {
                this.flag = !this.flag;
                //使用对象下的私有属性i
                this.flag ? h1s[this.i].style.color = 'black' : h1s[this.i].style.color = 'blue'
            }
        }
    </script>
</body>

</html>